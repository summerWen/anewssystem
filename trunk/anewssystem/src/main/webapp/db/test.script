CREATE SCHEMA PUBLIC AUTHORIZATION DBA
CREATE MEMORY TABLE A_NEWS_CONFIG(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,NEWS_NEED_AUDIT INTEGER,COMMENT_NEED_AUDIT INTEGER,COULD_COMMENT INTEGER,CONSTRAINT PK_NEWS_CONFIG PRIMARY KEY(ID))
CREATE MEMORY TABLE A_NEWS_CATEGORY(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,PARENT_ID BIGINT,TOP_ID BIGINT,NAME VARCHAR(50),THE_SORT INTEGER,STATUS INTEGER,CONSTRAINT PK_NEWS_CATEGORY PRIMARY KEY(ID),CONSTRAINT FK_NEWS_CATEGORY_TOP_ID FOREIGN KEY(TOP_ID) REFERENCES A_NEWS_CATEGORY(ID),CONSTRAINT FK_NEWS_CATEGORY_PARENT_ID FOREIGN KEY(PARENT_ID) REFERENCES A_NEWS_CATEGORY(ID))
CREATE MEMORY TABLE A_NEWS(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,CATEGORY_ID BIGINT,NAME VARCHAR(100),SUBTITLE VARCHAR(100),LINK VARCHAR(100),IMAGE VARCHAR(50),HIT INTEGER,SUMMARY VARCHAR(255),CONTENT VARCHAR(2000),SOURCE VARCHAR(50),EDITOR VARCHAR(50),UPDATE_DATE TIMESTAMP,STATUS INTEGER,CONSTRAINT PK_NEWS PRIMARY KEY(ID),CONSTRAINT FK_NEWS_CATEGORY_ID FOREIGN KEY(CATEGORY_ID) REFERENCES A_NEWS_CATEGORY(ID))
CREATE MEMORY TABLE A_NEWS_COMMENT(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,NEWS_ID BIGINT,NAME VARCHAR(100),CONTENT VARCHAR(2000),USERNAME VARCHAR(50),UPDATE_DATE TIMESTAMP,STATUS INTEGER,IP VARCHAR(20),CONSTRAINT PK_NEWS_COMMENT PRIMARY KEY(ID),CONSTRAINT FK_NEWS_COMMENT_NEWS_ID FOREIGN KEY(NEWS_ID) REFERENCES A_NEWS(ID))
CREATE MEMORY TABLE A_NEWS_TAG(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,NAME VARCHAR(50),THE_SORT INTEGER,CONSTRAINT PK_NEWS_TAG PRIMARY KEY(ID))
CREATE MEMORY TABLE A_NEWS_NEWSTAG(NEWS_ID BIGINT NOT NULL,NEWSTAG_ID BIGINT NOT NULL,CONSTRAINT PK_NEWS_NEWSTAG PRIMARY KEY(NEWS_ID,NEWSTAG_ID),CONSTRAINT FK_NEWS_NEWSTAG_NEWS_ID FOREIGN KEY(NEWS_ID) REFERENCES A_NEWS(ID),CONSTRAINT FK_NEWS_NEWSTAG_NEWSTAG_ID FOREIGN KEY(NEWSTAG_ID) REFERENCES A_NEWS_TAG(ID))
ALTER TABLE A_NEWS_CONFIG ALTER COLUMN ID RESTART WITH 2
ALTER TABLE A_NEWS_CATEGORY ALTER COLUMN ID RESTART WITH 32
ALTER TABLE A_NEWS ALTER COLUMN ID RESTART WITH 7
ALTER TABLE A_NEWS_COMMENT ALTER COLUMN ID RESTART WITH 1
ALTER TABLE A_NEWS_TAG ALTER COLUMN ID RESTART WITH 3
CREATE USER SA PASSWORD ""
GRANT DBA TO SA
SET WRITE_DELAY 10
SET SCHEMA PUBLIC
INSERT INTO A_NEWS_CONFIG VALUES(1,0,0,0)
INSERT INTO A_NEWS_CATEGORY VALUES(27,NULL,NULL,'dddd',0,NULL)
INSERT INTO A_NEWS_CATEGORY VALUES(28,27,27,'ddddddd',1,NULL)
INSERT INTO A_NEWS_CATEGORY VALUES(29,28,27,'dddddddddd',2,NULL)
INSERT INTO A_NEWS_CATEGORY VALUES(30,29,28,'1111',3,NULL)
INSERT INTO A_NEWS_CATEGORY VALUES(31,30,29,'cccc',4,NULL)
INSERT INTO A_NEWS VALUES(3,28,'111','11','/anews/html/28/2007/08/17/3.html','',NULL,'222','222','\u3010\u8f6c\u5e16\u3011','\u3010\u7ba1\u7406\u5458\u3011','2007-08-17 00:00:00.000000000',1)
INSERT INTO A_NEWS VALUES(4,28,'aaa','aaa','/anews/html/28/2007/08/17/4.html','',NULL,'aaaa','aaa','\u3010\u672c\u7ad9\u539f\u521b\u3011','\u3010\u7f51\u7ad9\u7f16\u8f91\u3011','2007-08-17 00:00:00.000000000',1)
INSERT INTO A_NEWS_TAG VALUES(2,'2',NULL)
INSERT INTO A_NEWS_NEWSTAG VALUES(3,2)
INSERT INTO A_NEWS_NEWSTAG VALUES(4,2)
